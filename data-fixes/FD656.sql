with prog_encounter_ids as (
    select enc.id enc_id
    from program_encounter enc
             join encounter_type et on enc.encounter_type_id = et.id
             join program_enrolment pe on enc.program_enrolment_id = pe.id
             join individual i on pe.individual_id = i.id
             join address_level al on i.address_id = al.id
    where enc.encounter_date_time in
          ('2020-05-15T12:58:51.000+05:30',
           '2020-05-15T12:58:51.000+05:30',
           '2020-05-15T12:58:51.000+05:30',
           '2020-05-15T12:58:51.000+05:30',
           '2020-05-13T13:59:04.000+05:30',
           '2020-05-13T13:59:04.000+05:30',
           '2020-05-13T13:59:04.000+05:30',
           '2020-05-13T13:59:04.000+05:30',
           '2020-05-19T11:55:02.000+05:30',
           '2020-05-19T11:55:02.000+05:30',
           '2020-05-19T11:55:02.000+05:30',
           '2020-05-14T09:24:19.000+05:30',
           '2020-05-14T09:24:19.000+05:30',
           '2020-05-14T09:24:19.000+05:30',
           '2020-05-14T09:24:19.000+05:30',
           '2020-05-14T09:20:02.000+05:30',
           '2020-05-14T09:20:02.000+05:30',
           '2020-05-14T09:20:02.000+05:30',
           '2020-05-14T09:20:02.000+05:30',
           '2020-05-15T14:58:21.000+05:30',
           '2020-05-15T14:58:21.000+05:30',
           '2020-05-15T14:58:21.000+05:30',
           '2020-05-15T14:58:21.000+05:30',
           '2020-05-18T12:17:38.000+05:30',
           '2020-05-18T12:17:38.000+05:30',
           '2020-05-18T12:17:38.000+05:30',
           '2020-05-12T16:51:20.000+05:30',
           '2020-05-12T16:51:20.000+05:30',
           '2020-05-12T16:51:20.000+05:30',
           '2020-05-12T16:54:30.000+05:30',
           '2020-05-12T16:54:30.000+05:30',
           '2020-05-12T16:54:30.000+05:30',
           '2020-05-14T11:37:54.000+05:30',
           '2020-05-14T11:37:54.000+05:30',
           '2020-05-14T11:37:54.000+05:30',
           '2020-05-14T11:37:54.000+05:30',
           '2020-05-14T10:57:22.000+05:30',
           '2020-05-14T10:57:22.000+05:30',
           '2020-05-14T10:57:22.000+05:30',
           '2020-05-14T10:57:22.000+05:30',
           '2020-05-14T10:58:17.000+05:30',
           '2020-05-14T10:58:17.000+05:30',
           '2020-05-14T10:58:17.000+05:30',
           '2020-05-14T10:58:17.000+05:30',
           '2020-05-13T11:35:23.000+05:30',
           '2020-05-13T11:35:23.000+05:30',
           '2020-05-13T11:35:23.000+05:30',
           '2020-05-13T11:35:23.000+05:30',
           '2020-05-14T09:49:51.000+05:30',
           '2020-05-14T09:49:51.000+05:30',
           '2020-05-14T09:49:51.000+05:30',
           '2020-05-14T09:49:51.000+05:30',
           '2020-05-14T09:21:24.000+05:30',
           '2020-05-14T09:21:24.000+05:30',
           '2020-05-14T09:21:24.000+05:30',
           '2020-05-14T09:21:24.000+05:30',
           '2020-05-14T11:02:52.000+05:30',
           '2020-05-14T11:02:52.000+05:30',
           '2020-05-14T11:02:52.000+05:30',
           '2020-05-14T11:02:52.000+05:30',
           '2020-05-14T11:05:21.000+05:30',
           '2020-05-14T11:05:21.000+05:30',
           '2020-05-14T11:05:21.000+05:30',
           '2020-05-14T11:05:21.000+05:30',
           '2020-05-14T09:14:59.000+05:30',
           '2020-05-14T09:14:59.000+05:30',
           '2020-05-14T09:14:59.000+05:30',
           '2020-05-14T09:14:59.000+05:30',
           '2020-05-14T09:28:56.000+05:30',
           '2020-05-14T09:28:56.000+05:30',
           '2020-05-14T09:28:56.000+05:30',
           '2020-05-14T09:28:56.000+05:30',
           '2020-05-14T09:16:15.000+05:30',
           '2020-05-14T09:16:15.000+05:30',
           '2020-05-14T09:16:15.000+05:30',
           '2020-05-14T09:16:15.000+05:30',
           '2020-05-13T14:02:24.000+05:30',
           '2020-05-13T14:02:24.000+05:30',
           '2020-05-13T14:02:24.000+05:30',
           '2020-05-13T14:02:24.000+05:30',
           '2020-05-19T11:52:57.000+05:30',
           '2020-05-19T11:52:57.000+05:30',
           '2020-05-19T11:52:57.000+05:30',
           '2020-05-11T12:26:33.000+05:30',
           '2020-05-11T12:26:33.000+05:30',
           '2020-05-11T12:28:37.000+05:30',
           '2020-05-11T12:28:37.000+05:30',
           '2020-05-11T12:55:38.000+05:30',
           '2020-05-11T12:55:38.000+05:30',
           '2020-05-11T12:57:43.000+05:30',
           '2020-05-11T12:57:43.000+05:30',
           '2020-05-11T12:34:24.000+05:30',
           '2020-05-11T12:34:24.000+05:30',
           '2020-05-11T12:36:32.000+05:30',
           '2020-05-11T12:36:32.000+05:30',
           '2020-05-09T15:32:47.000+05:30',
           '2020-05-09T15:32:47.000+05:30',
           '2020-05-09T15:32:47.000+05:30',
           '2020-05-09T15:31:37.000+05:30',
           '2020-05-09T15:31:37.000+05:30',
           '2020-05-09T15:31:37.000+05:30',
           '2020-05-09T15:27:07.000+05:30',
           '2020-05-09T15:27:07.000+05:30',
           '2020-05-09T15:27:07.000+05:30',
           '2020-05-09T15:06:30.000+05:30',
           '2020-05-09T15:06:30.000+05:30',
           '2020-05-09T15:06:30.000+05:30',
           '2020-05-09T12:01:07.000+05:30',
           '2020-05-09T12:01:07.000+05:30',
           '2020-05-09T12:01:07.000+05:30',
           '2020-05-11T14:37:52.000+05:30',
           '2020-05-11T14:37:52.000+05:30',
           '2020-05-11T14:37:52.000+05:30',
           '2020-05-09T11:39:01.000+05:30',
           '2020-05-09T11:39:01.000+05:30',
           '2020-05-09T11:39:01.000+05:30',
           '2020-05-09T11:42:44.000+05:30',
           '2020-05-09T11:42:44.000+05:30',
           '2020-05-09T11:42:44.000+05:30',
           '2020-05-09T11:44:43.000+05:30',
           '2020-05-09T11:44:43.000+05:30',
           '2020-05-09T11:44:43.000+05:30',
           '2020-05-09T11:59:52.000+05:30',
           '2020-05-09T11:59:52.000+05:30',
           '2020-05-09T11:59:52.000+05:30',
           '2020-05-09T11:28:47.000+05:30',
           '2020-05-09T11:28:47.000+05:30',
           '2020-05-09T11:28:47.000+05:30',
           '2020-05-09T11:34:41.000+05:30',
           '2020-05-09T11:34:41.000+05:30',
           '2020-05-09T11:34:41.000+05:30',
           '2020-05-09T11:57:00.000+05:30',
           '2020-05-09T11:57:00.000+05:30',
           '2020-05-09T11:57:00.000+05:30',
           '2020-05-09T11:40:35.000+05:30',
           '2020-05-09T11:40:35.000+05:30',
           '2020-05-09T11:40:35.000+05:30',
           '2020-05-09T11:31:28.000+05:30',
           '2020-05-09T11:31:28.000+05:30',
           '2020-05-09T11:31:28.000+05:30',
           '2020-05-09T11:32:50.000+05:30',
           '2020-05-09T11:32:50.000+05:30',
           '2020-05-09T11:32:50.000+05:30',
           '2020-05-09T11:49:39.000+05:30',
           '2020-05-09T11:49:39.000+05:30',
           '2020-05-09T11:49:39.000+05:30',
           '2020-05-09T11:46:36.000+05:30',
           '2020-05-09T11:46:36.000+05:30',
           '2020-05-09T11:46:36.000+05:30',
           '2020-05-12T18:06:49.000+05:30',
           '2020-05-12T18:06:49.000+05:30',
           '2020-05-12T18:06:49.000+05:30',
           '2020-05-09T11:51:15.000+05:30',
           '2020-05-09T11:51:15.000+05:30',
           '2020-05-09T11:51:15.000+05:30',
           '2020-05-09T11:53:09.000+05:30',
           '2020-05-09T11:53:09.000+05:30',
           '2020-05-09T11:53:09.000+05:30',
           '2020-05-09T11:48:06.000+05:30',
           '2020-05-09T11:48:06.000+05:30',
           '2020-05-09T11:48:06.000+05:30',
           '2020-05-09T12:08:24.000+05:30',
           '2020-05-09T12:08:24.000+05:30',
           '2020-05-09T12:08:24.000+05:30',
           '2020-05-09T11:58:30.000+05:30',
           '2020-05-09T11:58:30.000+05:30',
           '2020-05-09T11:58:30.000+05:30',
           '2020-05-09T11:54:45.000+05:30',
           '2020-05-09T11:54:45.000+05:30',
           '2020-05-09T11:54:45.000+05:30',
           '2020-05-09T12:02:57.000+05:30',
           '2020-05-09T12:02:57.000+05:30',
           '2020-05-09T12:02:57.000+05:30',
           '2020-05-09T11:37:20.000+05:30',
           '2020-05-09T11:37:20.000+05:30',
           '2020-05-09T11:37:20.000+05:30',
           '2020-05-12T13:03:47.000+05:30',
           '2020-05-12T13:03:47.000+05:30',
           '2020-05-12T13:03:47.000+05:30',
           '2020-05-09T15:24:33.000+05:30',
           '2020-05-09T15:24:33.000+05:30',
           '2020-05-09T15:24:33.000+05:30',
           '2020-05-09T15:29:04.000+05:30',
           '2020-05-09T15:29:04.000+05:30',
           '2020-05-09T15:29:04.000+05:30',
           '2020-05-14T11:24:57.000+05:30',
           '2020-05-14T11:24:57.000+05:30',
           '2020-05-14T11:24:57.000+05:30',
           '2020-05-14T11:24:57.000+05:30',
           '2020-05-14T11:26:33.000+05:30',
           '2020-05-14T11:26:33.000+05:30',
           '2020-05-14T11:26:33.000+05:30',
           '2020-05-14T11:26:33.000+05:30',
           '2020-05-14T11:11:51.000+05:30',
           '2020-05-14T11:11:51.000+05:30',
           '2020-05-14T11:11:51.000+05:30',
           '2020-05-14T11:11:51.000+05:30',
           '2020-05-14T11:14:11.000+05:30',
           '2020-05-14T11:14:11.000+05:30',
           '2020-05-14T11:14:11.000+05:30',
           '2020-05-14T11:14:11.000+05:30',
           '2020-05-09T15:30:35.000+05:30',
           '2020-05-09T15:30:35.000+05:30',
           '2020-05-09T15:30:35.000+05:30',
           '2020-05-16T10:04:47.000+05:30',
           '2020-05-16T10:04:47.000+05:30',
           '2020-05-16T10:04:47.000+05:30',
           '2020-04-20T15:13:56.000+05:30',
           '2020-04-20T15:13:56.000+05:30',
           '2020-04-20T15:13:56.000+05:30',
           '2020-04-20T15:13:56.000+05:30',
           '2020-04-20T11:29:38.000+05:30',
           '2020-04-18T17:49:23.000+05:30',
           '2020-04-27T17:36:26.000+05:30',
           '2020-04-20T11:29:38.000+05:30',
           '2020-04-27T17:36:26.000+05:30',
           '2020-04-20T11:29:38.000+05:30',
           '2020-04-18T17:49:23.000+05:30',
           '2020-04-20T11:29:38.000+05:30',
           '2020-04-18T15:31:13.000+05:30',
           '2020-04-18T15:31:13.000+05:30',
           '2020-04-18T15:31:13.000+05:30',
           '2020-04-18T15:31:13.000+05:30',
           '2020-03-21T15:53:27.000+05:30',
           '2020-03-18T13:55:01.000+05:30',
           '2020-03-18T13:55:01.000+05:30',
           '2020-03-13T15:27:59.000+05:30',
           '2020-03-13T15:27:59.000+05:30',
           '2020-03-21T15:53:27.000+05:30',
           '2020-03-21T15:53:27.000+05:30',
           '2020-03-18T13:55:01.000+05:30',
           '2020-03-14T12:57:49.000+05:30',
           '2020-03-14T13:03:23.000+05:30',
           '2020-03-04T15:16:41.000+05:30',
           '2020-03-14T12:57:49.000+05:30',
           '2020-03-14T13:03:23.000+05:30',
           '2020-03-04T15:16:41.000+05:30',
           '2020-03-04T15:16:41.000+05:30',
           '2020-03-14T12:57:49.000+05:30',
           '2020-03-14T13:03:23.000+05:30',
           '2020-03-14T12:57:49.000+05:30',
           '2020-03-14T13:03:23.000+05:30',
           '2020-03-14T13:05:36.000+05:30',
           '2020-03-14T13:07:33.000+05:30',
           '2020-03-14T13:05:36.000+05:30',
           '2020-03-14T13:07:33.000+05:30',
           '2020-03-14T13:05:36.000+05:30',
           '2020-03-14T13:07:33.000+05:30',
           '2020-03-14T13:05:36.000+05:30',
           '2020-03-14T13:07:33.000+05:30',
           '2020-03-17T12:38:23.000+05:30',
           '2020-03-17T16:50:59.000+05:30',
           '2020-03-17T12:38:23.000+05:30',
           '2020-03-17T16:50:59.000+05:30',
           '2020-03-17T12:38:23.000+05:30',
           '2020-03-17T16:50:59.000+05:30',
           '2020-03-17T12:38:23.000+05:30',
           '2020-03-17T16:50:59.000+05:30',
           '2020-03-14T13:09:48.000+05:30',
           '2020-03-14T13:09:48.000+05:30',
           '2020-03-13T15:12:12.000+05:30',
           '2020-03-13T15:12:12.000+05:30',
           '2020-03-14T13:09:48.000+05:30',
           '2020-03-14T13:09:48.000+05:30',
           '2020-03-12T15:03:00.000+05:30',
           '2020-03-12T15:03:00.000+05:30',
           '2020-03-12T15:03:00.000+05:30',
           '2020-03-12T15:03:00.000+05:30',
           '2020-03-12T12:52:05.000+05:30',
           '2020-03-12T12:52:05.000+05:30',
           '2020-03-12T12:52:05.000+05:30',
           '2020-03-12T12:52:05.000+05:30',
           '2020-03-17T12:40:53.000+05:30',
           '2020-03-17T12:40:53.000+05:30',
           '2020-03-17T12:40:53.000+05:30',
           '2020-03-17T12:40:53.000+05:30',
           '2020-03-13T15:12:13.000+05:30',
           '2020-03-13T15:12:13.000+05:30',
           '2020-03-06T12:14:33.000+05:30',
           '2020-03-06T12:14:33.000+05:30',
           '2020-03-06T12:14:33.000+05:30',
           '2020-03-12T13:13:44.000+05:30',
           '2020-03-12T13:13:44.000+05:30',
           '2020-03-12T13:13:44.000+05:30',
           '2020-03-12T13:13:44.000+05:30',
           '2020-03-13T15:26:40.000+05:30',
           '2020-03-13T15:26:40.000+05:30',
           '2020-03-13T08:44:54.000+05:30',
           '2020-03-13T15:15:03.000+05:30',
           '2020-03-13T08:44:54.000+05:30',
           '2020-03-13T15:15:03.000+05:30',
           '2020-03-19T11:25:03.000+05:30',
           '2020-03-13T08:44:54.000+05:30',
           '2020-03-19T11:25:03.000+05:30',
           '2020-03-13T08:44:54.000+05:30',
           '2020-03-20T15:42:36.000+05:30',
           '2020-03-17T14:49:09.000+05:30',
           '2020-03-20T15:42:36.000+05:30',
           '2020-03-17T14:49:09.000+05:30',
           '2020-03-20T15:42:36.000+05:30',
           '2020-03-17T14:49:09.000+05:30',
           '2020-03-20T15:42:36.000+05:30',
           '2020-03-17T14:49:09.000+05:30'
              )
),
     audit_ids as (update program_encounter set is_voided = true
         where id in (select enc_id from prog_encounter_ids)
         returning audit_id)
update audit
set last_modified_date_time=current_timestamp,
    last_modified_by_id = (select id from users where name = 'adminsr')
where id in (select audit_id from audit_ids);
